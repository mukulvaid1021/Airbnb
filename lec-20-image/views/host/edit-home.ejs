<%- include('../partials/head')%>
</head>
<body class="bg-gray-50 min-h-screen font-sans">

  <!-- Top header bar -->
  <%- include('../partials/nav') %>

  <!-- Main content with padding to avoid overlap with fixed nav -->
  <main class="pt-20 px-6 flex flex-col items-center">

    <header class="mb-8">
      <h1 class="text-red-700 text-4xl font-bold"><%= editing ? "Edit" : "Register"%> your home on Airbnb</h1>
    </header>

    <!-- ✅ Form opening tag (fixed spacing and closing) -->
    <form action="/host/<%= editing ? 'edit-home' : 'add-home' %>" method="POST" enctype="multipart/form-data"
          class="w-full max-w-md bg-white rounded-lg shadow-md p-6">
      
      <!-- ✅ Hidden input for ID -->
      <input type="hidden" name="id" value="<%= editing ? home._id : '' %>" />

      <!-- ✅ House Name -->
      <div class="mb-4">
        <input type="text" name="housename"
               value="<%= editing ? home.housename : '' %>"
               placeholder="Enter the name of your house"
               class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-red-500"
               required />
      </div>

      <!-- ✅ Price -->
      <div class="mb-4">
        <input type="text" name="price"
               value="<%= editing ? home.price : '' %>"
               placeholder="Price per night"
               class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-red-500"
               required />
      </div>

      <!-- ✅ Location -->
      <div class="mb-4">
        <input type="text" name="location"
               value="<%= editing ? home.location : '' %>"
               placeholder="Location"
               class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-red-500"
               required />
      </div>

      <!-- ✅ Rating -->
      <div class="mb-4">
        <input type="text" name="rating"
               value="<%= editing ? home.rating : '' %>"
               placeholder="Rating"
               class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-red-500"
               required />
      </div>

      <!-- Photo  -->
      <div class="mb-4">
        <input type="file" name="photo"
        accept="image/jpg,image/jpeg,image/png"
               class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-red-500"
              />
      </div>
     
      <!-- Description -->
      <div class="mb-4">
        <textarea name="description"
                  placeholder="Describe your home"
                  class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-red-500"
                  required><%= editing ? home.description : '' %></textarea>
      </div>

      <!-- ✅ Submit Button -->
      <div class="mb-4">
        <input type="submit" value="<%= editing ? 'Update Home' : 'Add Home' %>"
               class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition-colors duration-300 cursor-pointer" />
      </div>
    </form>

  </main>
</body>
</html>
